<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      xmlns:th="http://www.thymeleaf.org">

    <head th:fragment="head">
        <title>Bienes Raíces</title>
        <meta charset="UTF-8"/>
        <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
        <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
        <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet"/>
        <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
        <link th:href="@{/webjars/font-awesome/css/all.css}" rel="stylesheet"/>
        <link th:href="@{/CSS/styles.css}" rel="stylesheet"/>
        <script src="https://kit.fontawesome.com/686814a22f.js" crossorigin="anonymous"></script>
        <script th:src="@{/JS/utils.js}" defer></script>
    </head>

    <body>
        <header th:fragment="header" class="header">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <a class="navbar-brand" th:href="@{/}">Bienes Raices</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav me-auto">
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/}">Inicio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/properties/list}">Propiedades</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/aboutUs}">Nosotros</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/contact}">Contacto</a>
                            </li>
                            <li class="nav-item dropdown" >
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAdmin" role="button"
                                   data-bs-toggle="dropdown" aria-expanded="false">
                                    Admin
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownAdmin">
                                    <li><a class="dropdown-item" th:href="@{/user/userList}">Usuarios</a></li>
                                    <li><a class="dropdown-item" th:href="@{/seller/sellerList}">Vendedores</a></li>
                                    <li><a class="dropdown-item" th:href="@{/reportes/principal}">Reportes</a></li>
                                </ul>

                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Seleccionar Lenguaje</a>
                                <ul class="dropdown-menu dropdown-menu-dark">
                                    <li><a class="dropdown-item"  th:href="@{/(lang=es)}">ES</a></li>
                                    <li><a class="dropdown-item" th:href="@{/(lang=en)}">EN</a></li>
                                </ul>
                            </li>
                        </ul>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav me-auto">

                            </ul>
                            <ul class="navbar-nav ml-auto align-items-center">
                    
                                <li class="nav-item" sec:authorize='!isAuthenticated()'> 
                                    <a href="/signIn" class="nav-link">Sign In</a>
                                </li>
                                <li class="nav-item" sec:authorize='!isAuthenticated()'> 
                                    <a href="/signUp/new" class="nav-link">Sign Up</a>
                                </li>
                                <li  sec:authorize='isAuthenticated()'class="nav-item dropdown mr-5">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownProfile" role="button"
                                       data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                       <img  th:src="${#authentication.principal.image} == null ? 'https://urgenciesveterinaries.com/wp-content/uploads/2023/09/survet-gato-caida-pelo-01.jpeg' : ${#authentication.principal.image}" height="40" style="object-fit: cover; aspect-ratio: 1/1;" class="rounded-circle"/>
                                      
                                        <span sec:authentication='name'>Johanna</span>
                                    </a>
                                    <div class="dropdown-menu p-2" aria-labelledby="navbarDropdownProfile">
                                        <a class="dropdown-item" th:href="@{/profile/perfil}">Perfil</a>
                                        <div class="dropdown-divider"></div>
                                        <form method="post" th:action='@{/logout}'>
                                            <button class="dropdown-item btn btn-sm" type="submit">Logout</button>
                                        </form>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <footer
            th:fragment= "footer" 
            class="text-center text-lg-start text-white"
            style="background-color: #363636"
            >
            <!-- Grid container -->
            <div class="container p-4 pb-0">
                <section class="">
                    <ul class="nav justify-content-center">
                        <li class="nav-item">
                            <a class="nav-link text-white" th:href="@{/}" style="font-size: 18px;">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" th:href="@{/properties/list}" style="font-size: 18px;">Propiedades</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" th:href="@{/aboutUs}" style="font-size: 18px;">Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" th:href="@{/contact}" style="font-size: 18px;">Contacto</a>
                        </li>
                    </ul>
                </section>

                <!-- Section: Social media -->
                <section class="mb-4 text-center">

                    <!-- Instagram -->
                    <a
                        class="btn btn-outline-light btn-floating m-1"
                        href="#!"
                        role="button"
                        ><i class="fab fa-instagram"></i
                        ></a>

                    <!-- Linkedin -->
                    <a
                        class="btn btn-outline-light btn-floating m-1"
                        href="#!"
                        role="button"
                        ><i class="fab fa-linkedin-in"></i
                        ></a>

                    <!-- Github -->
                    <a
                        class="btn btn-outline-light btn-floating m-1"
                        href="#!"
                        role="button"
                        ><i class="fab fa-github"></i
                        ></a>
                </section>
                <!-- Section: Social media -->
            </div>
            <!-- Grid container -->

            <!-- Copyright -->
            <div
                class="text-center p-3"
                style="background-color: rgba(0, 0, 0, 0.2)"
                >
                © 2020 Copyright: Todos los Derechos Reeservados

            </div>
            <!-- Copyright -->
        </footer>
        <!-- Footer -->
    </body>
</html>